import { Meta, Canvas, Story, ArgsTable, Source } from '@storybook/blocks';
import Button from '../src/components/Button/Button';

<Meta title="Components/Button" component={Button} />

# Button

Multi-framework button component generated from Mitosis. Write once, use in React, Angular, and React Native.

## Live Preview (React)

<Canvas>
  <Story name="Primary">
    <Button variant="primary" onClick={() => alert('Clicked!')}>
      Primary Button
    </Button>
  </Story>
</Canvas>

<Canvas>
  <Story name="All Variants">
    <div style={{ display: 'flex', gap: '16px', flexWrap: 'wrap' }}>
      <Button variant="primary">Primary</Button>
      <Button variant="secondary">Secondary</Button>
      <Button variant="ghost">Ghost</Button>
      <Button variant="outline">Outline</Button>
    </div>
  </Story>
</Canvas>

<Canvas>
  <Story name="All Sizes">
    <div style={{ display: 'flex', gap: '16px', alignItems: 'center' }}>
      <Button size="sm">Small</Button>
      <Button size="md">Medium</Button>
      <Button size="lg">Large</Button>
    </div>
  </Story>
</Canvas>

<Canvas>
  <Story name="Disabled">
    <Button variant="primary" disabled>
      Disabled Button
    </Button>
  </Story>
</Canvas>

## Props

<ArgsTable of={Button} />

---

## Installation & Usage by Framework

Choose your framework below to see installation instructions and usage examples.

### React

**Installation:**

```bash
npm install @redhorn/design-tokens @redhorn/react
```

**Import tokens in your main file:**

```tsx
// src/main.tsx or src/index.tsx
import '@redhorn/design-tokens/css/light';
```

**Usage:**

```tsx
import { Button } from '@redhorn/react';

function MyComponent() {
  const handleClick = () => {
    console.log('Button clicked!');
  };

  return (
    <div>
      <Button variant="primary" onClick={handleClick}>
        Click Me
      </Button>
      
      <Button variant="secondary" size="lg">
        Large Button
      </Button>
      
      <Button variant="outline" disabled>
        Disabled
      </Button>
    </div>
  );
}
```

**TypeScript Props:**

```tsx
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'ghost' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  type?: 'button' | 'submit' | 'reset';
  onClick?: (event: any) => void;
  children?: any;
  className?: string;
}
```

---

### Angular

**Installation:**

```bash
npm install @redhorn/design-tokens @redhorn/angular
```

**Import tokens in styles.css:**

```css
/* src/styles.css */
@import '@redhorn/design-tokens/css/light';
```

**Usage:**

```typescript
import { Component } from '@angular/core';
import Button from '@redhorn/angular/button';

@Component({
  selector: 'app-my-component',
  standalone: true,
  imports: [Button],
  template: `
    <div>
      <button variant="primary" (click)="handleClick()">
        Click Me
      </button>
      
      <button variant="secondary" size="lg">
        Large Button
      </button>
      
      <button variant="outline" [disabled]="true">
        Disabled
      </button>
    </div>
  `
})
export class MyComponent {
  handleClick() {
    console.log('Button clicked!');
  }
}
```

**TypeScript Props:**

```typescript
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'ghost' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  type?: 'button' | 'submit' | 'reset';
  onClick?: (event: any) => void;
}
```

---

### React Native

**Installation:**

```bash
npm install @redhorn/design-tokens @redhorn/react-native
```

**Usage:**

```tsx
import React from 'react';
import { SafeAreaView } from 'react-native';
import { Button } from '@redhorn/react-native';

export default function MyScreen() {
  const handlePress = () => {
    console.log('Button pressed!');
  };

  return (
    <SafeAreaView>
      <Button variant="primary" onPress={handlePress}>
        Click Me
      </Button>
      
      <Button variant="secondary" size="lg">
        Large Button
      </Button>
      
      <Button variant="outline" disabled>
        Disabled
      </Button>
    </SafeAreaView>
  );
}
```

**Note:** React Native uses `onPress` instead of `onClick`.

**TypeScript Props:**

```typescript
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'ghost' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  onPress?: (event: any) => void;
  children?: any;
}
```

---

## Design Tokens

This component uses the following design tokens:

- **Colors**: `--color-accent-primary`, `--color-accent-hover`, `--color-text-primary`
- **Spacing**: `--spacing-sm`, `--spacing-md`, `--spacing-lg`
- **Border Radius**: `--border-radius-button`
- **Typography**: `--font-weight-button`

## Variants

- **primary** - Red background, white text (brand accent)
- **secondary** - Gray background, dark text
- **ghost** - Transparent background, colored text
- **outline** - Transparent background with border

## Sizes

- **sm** - Small (32px height)
- **md** - Medium (40px height, default)
- **lg** - Large (48px height)

## Accessibility

- Supports keyboard navigation (Tab, Enter, Space)
- Proper ARIA attributes
- Focus indicators via design tokens
- Disabled state prevents interaction

## Browser Support

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## Source Code

The source component is written in Mitosis and compiled to all frameworks:

- **Mitosis Source**: `packages/mitosis-components/src/components/Button/Button.lite.tsx`
- **React Output**: `packages/react/src/components/Button/Button.tsx`
- **Angular Output**: `packages/angular/src/components/Button/Button.ts`
- **React Native Output**: `packages/react-native/src/components/Button/Button.tsx`
